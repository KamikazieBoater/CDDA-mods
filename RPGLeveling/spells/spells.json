[
  {
    "id": "master_spark",
    "type": "SPELL",
    "name": "Master Spark",
    "description": "A devastating beam of raw magical energy. Love-coloured.",
    "valid_targets": [ "ally", "hostile", "ground" ],
    "effect": "attack",
	"shape": "line",
    "extra_effects": [ { "id":"master_spark_collateral", "hit_self":false, "max_level":20 }, { "id":"master_spark_impact", "hit_self":false, "max_level":20 } ],
    "damage_type": "pure",
    "base_casting_time": 200,
    "base_energy_cost": 20000,
    "energy_source": "MANA",
    "spell_class": "NONE",
    "flags": [ "LOUD", "SOMATIC", "VERBAL", "NO_LEGS" ],
    "difficulty": 10,
    "max_level": 20,
    "min_damage": 300,
    "max_damage": 3000,
    "damage_increment": 135,
    "min_range": 10,
    "max_range": 60,
    "range_increment": 2.5,
    "min_aoe": 1,
    "max_aoe": 7,
    "aoe_increment": 0.3,
    "learn_spells": { "silent_spark": 20 }
  },
  {
    "id": "silent_spark",
    "type": "SPELL",
    "name": "Silent Spark",
    "description": "An oddly quiet variant of master spark that seems to pass through objects rather than destroy them. Love-coloured.",
    "valid_targets": [ "ally", "hostile", "ground" ],
    "effect": "attack",
	"shape": "line",
    "damage_type": "pure",
    "base_casting_time": 200,
    "base_energy_cost": 20000,
    "energy_source": "MANA",
    "spell_class": "NONE",
    "flags": [ "SILENT", "SOMATIC", "VERBAL", "IGNORE_WALLS", "NO_LEGS" ],
    "difficulty": 1,
    "max_level": 1,
    "min_damage": 2000,
    "max_damage": 2000,
    "min_range": 60,
    "max_range": 60,
    "min_aoe": 5,
    "max_aoe": 5
  },
  {
    "id": "master_spark_impact",
    "type": "SPELL",
    "name": "Master Spark Impact Zone",
    "description": "Damage in area around target point.",
    "valid_targets": [ "ally", "hostile", "ground" ],
    "message": "",
    "effect": "attack",
	"shape": "blast",
    "damage_type": "pure",
    "flags": [ "SILENT", "IGNORE_WALLS" ],
    "max_level": 20,
    "min_damage": 300,
    "max_damage": 3000,
    "damage_increment": 135,
    "min_aoe": 1,
    "max_aoe": 7,
    "aoe_increment": 0.3
  },
  {
    "id": "master_spark_collateral",
    "type": "SPELL",
    "name": "Master Spark Collateral",
    "description": "Damages terrain in range.",
    "valid_targets": [ "ground" ],
    "message": "",
    "effect": "bash",
	"shape": "blast",
    "extra_effects": [ { "id":"master_spark_collateral_ter", "hit_self":false, "max_level":20 } ],
    "flags": [ "SILENT", "IGNORE_WALLS" ],
    "max_level": 20,
    "min_damage": 300,
    "max_damage": 3000,
    "damage_increment": 135,
    "min_aoe": 1,
    "max_aoe": 7,
    "aoe_increment": 0.3
  },
  {
    "id": "master_spark_collateral_ter",
    "type": "SPELL",
    "name": "Master Spark Collateral Extended",
    "description": "Dirty hack to work around bugs in magic code.",
    "valid_targets": [ "ground" ],
    "effect": "ter_transform",
	"shape": "blast",
    "flags": [ "SILENT" ],
    "message": "",
    "effect_str": "magic_collateral",
    "max_level": 20,
    "min_damage": 11,
    "max_damage": 1,
    "damage_increment": -0.5,
    "min_aoe": 1,
    "max_aoe": 7,
    "aoe_increment": 0.3
  },
  {
    "id": "gap_step",
    "type": "SPELL",
    "name": "Gap Step",
    "description": "A gift from the girl in the gap. Teleports you randomly near a target location.",
    "effect": "short_range_teleport",
    "shape": "blast",
    "valid_targets": [ "ground" ],
    "flags": [ "SOMATIC", "SILENT", "NO_LEGS", "TARGET_TELEPORT" ],
    "min_range": 10,
    "max_range": 60,
    "range_increment": 5,
    "min_aoe": 6,
    "max_aoe": 1,
    "aoe_increment": -0.5,
    "max_level": 30,
    "difficulty": 5,
    "spell_class": "NONE",
    "base_casting_time": 600,
    "energy_source": "MANA",
    "base_energy_cost": 600,
    "energy_increment": -10,
    "final_energy_cost": 300
  },
  {
    "id": "extinguish_cone",
	"type": "SPELL",
	"name": "Extinguishing Blast",
	"description": "Creates a cone of extinguishing vapours to douse any fires in the area.",
	"valid_targets": [ "ally", "hostile", "ground" ],
	"effect": "attack",
	"shape": "cone",
    "effect_str": "downed",
    "flags": [ "SOMATIC", "NO_LEGS" ],
    "energy_source": "MANA",
    "difficulty": 1,
    "base_casting_time": 125,
    "base_energy_cost": 150,
    "max_level": 10,
    "min_aoe": 30,
    "max_aoe": 120,
    "aoe_increment": 9,
    "min_range": 10,
    "max_range": 30,
    "range_increment": 2,
    "min_duration": 200,
    "max_duration": 800,
    "duration_increment": 60,
    "field_id": "fd_extinguisher",
    "field_chance": 1,
    "min_field_intensity": 10,
    "max_field_intensity": 10,
    "field_intensity_variance": 1
  },
  {
    "id": "kappa_omnitool",
    "type": "GENERIC",
    "name": { "str": "Omnitool" },
    "description": "A miraculous piece of kappa engineering, this device can take the shape of nearly any tool.  When not in use it looks like a simple screwdriver.",
    "looks_like": "screwdriver",
    "weight": "170 g",
    "volume": "40 ml",
    "longest_side": "25 cm",
    "price": 450,
    "price_postapoc": 50,
    "to_hit": -1,
    "symbol": ";",
    "color": "green",
    "use_action": [ "CROWBAR", "DIG", "FISH_ROD", "HACKSAW", "LUMBER", "MOP", "PICKAXE", "PICK_LOCK", "SIPHON", "WEATHER_TOOL" ],
    "qualities": [
      [ "AXE", 3 ],
      [ "BOIL", 2 ],
      [ "BUTCHER", 50 ],
      [ "CHISEL", 3 ],
      [ "CHISEL_WOOD", 3 ],
      [ "CONTAIN", 1 ],
      [ "COOK", 5 ],
      [ "CUT", 5 ],
      [ "CUT_FINE", 4 ],
      [ "DIG", 3 ],
	  [ "DRILL", 3 ],
	  [ "DRILL_ROCK", 3 ],
	  [ "FABRIC_CUT", 2 ],
      [ "FILE", 2 ],
	  [ "FISHING_ROD", 2 ],
	  [ "GRASS_CUT", 3 ],
	  [ "GRIND", 3 ],
      [ "LEATHER_AWL", 2 ],
      [ "LOCKPICK", 10 ],
      [ "HAMMER", 3 ],
      [ "HAMMER_FINE", 3 ],
      [ "HAMMER_SOFT", 3 ],
      [ "HOSE", 3 ],
	  [ "JACK", 20 ],
      [ "KNIT", 2 ],
      [ "PRY", 4 ],
	  [ "PRYING_NAIL", 3 ],
      [ "PULL", 2 ],
      [ "PUNCH", 3 ],
	  [ "REAM", 2 ],
      [ "SAW_M", 4 ],
      [ "SAW_M_FINE", 3 ],
      [ "SAW_W", 3 ],
      [ "SCREW", 3 ],
      [ "SCREW_FINE", 3 ],
      [ "SEW", 4 ],
      [ "SEW_CURVED", 2 ],
      [ "SHEAR", 2 ],
      [ "SMOKE_PIPE", 1 ],
      [ "SMOOTH", 3 ],
      [ "SURFACE", 3 ],
	  [ "VISE", 3 ],
	  [ "WHEEL_FAST", 2 ],
      [ "WRENCH", 3 ],
      [ "WRENCH_FINE", 4 ]
    ],
    "flags": [ "SPEAR", "BELT_CLIP", "TRADER_AVOID", "DIG_TOOL", "SAFECRACK", "THERMOMETER", "HYGROMETER", "BAROMETER" ],
    "melee_damage": { "bash": 2, "stab": 6 }
  },
  {
    "id": "kappa_toolkit",
    "type": "SPELL",
    "name": "NitorInc Omnitool",
    "description": "Summon your NitorInc Omnitool from a pocket dimension.",
    "valid_targets": [ "none" ],
    "flags": [ "CONCENTRATE", "NO_LEGS", "MUST_HAVE_CLASS_TO_LEARN" ],
    "effect": "spawn_item",
    "shape": "blast",
    "effect_str": "kappa_omnitool",
    "min_damage": 1,
    "max_damage": 1,
    "min_duration": 0,
    "max_duration": 3240000,
    "duration_increment": 92572,
    "spell_class": "NONE",
    "difficulty": 1,
    "max_level": 35,
    "base_casting_time": 1500,
    "final_casting_time": 500,
    "casting_time_increment": -30,
    "base_energy_cost": 100,
    "energy_source": "MANA"
  }
]